# yaml-language-server: $schema=https://docs.ludus.cloud/schemas/range-config.json
ludus:
  # k3s Server (Control Plane)
  - vm_name: "{{ range_id }}-k3s-1"
    hostname: "{{ range_id }}-k3s-server"
    template: debian-12-x64-server-template
    vlan: 10
    ip_last_octet: 10
    ram_gb: 4
    cpus: 2
    linux: true
    roles:
      - netpenguins.ludus_k3s
    role_vars:
      ludus_k3s_role: server
      ludus_k3s_disable_components:
        - traefik
  # k3s Agent 1 (Worker Node)
  - vm_name: "{{ range_id }}-k3s-agent-1"
    hostname: "{{ range_id }}-k3s-agent-1"
    template: debian-12-x64-server-template
    vlan: 10
    ip_last_octet: 11
    ram_gb: 2
    cpus: 2
    linux: true
    roles:
      - netpenguins.ludus_k3s
    role_vars:
      ludus_k3s_role: agent
      ludus_k3s_server_url: "https://10.{{ range_second_octet }}.10.10:6443"
  # k3s Agent 2 (Worker Node)
  # Add more worker nodes as needed


  #########################################################
  # For a nicer UI experience, add a Windows VM with 
  #   headlamp and add your k3s cluster kubeconfig to it
  #########################################################
  - vm_name: "{{ range_id }}-win11-1"
    hostname: "{{ range_id }}-WIN11-22H2-1"
    template: win11-22h2-x64-enterprise-template
    vlan: 10
    ip_last_octet: 21
    ram_gb: 8
    cpus: 4
    windows:
      install_additional_tools: true
      chocolatey_ignore_checksums: true
      chocolatey_packages:
        - vscodium
        - headlamp
        - kubernetes-helm # <-- Needed if you wish to use helm charts in headlamp 